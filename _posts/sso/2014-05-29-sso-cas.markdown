---
layout: page
title:  "CAS单点登录实现过程"
description: "单点登录部署 sso cas tomcat"
keywords: 单点登录部署,sso,cas,tomcat
origin: 张嘉杰.原创
date:   2014-05-29
category: sso
tags: sso cas tomcat
---
SSO开源框架有很多，[JSecurity]、[JOSSO]、[CAS]，对比之后个人比较倾向`JOSSO`,测试完成，发现`JOSSO`不能跨域访问，果断舍弃。继续研究 CAS。  
<!--more-->

1. 首先检查环境，然后下载需要的工具

{% highlight html %}

# 查看jdk版本
$ java -version
java version "1.7.0_10"

# 下载工具(依次为tomcat、cas-server、cas-client)
$ wget http://ftp.cuhk.edu.hk/pub/packages/apache.org/tomcat/tomcat-7/v7.0.55/bin/apache-tomcat-7.0.55-deployer.tar.gz
$ wget http://downloads.jasig.org/cas/cas-server-4.0.0-release.tar.gz
$ wget http://downloads.jasig.org/cas-clients/cas-client-3.2.1-release.tar.gz

{% endhighlight %}

2. 修改本地host。因为公司电脑是win7系统，host路径为：`C:\Windows\System32\drivers\etc\host`增加：  
{% highlight html %}

192.168.1.10 sso.228.com.cn #单点登录服务器
192.168.1.11 web.228.com.cn #网站服务
192.168.1.12 wap.228.com.cn #手机服务

{% endhighlight %}

3. 部署CAS服务
{% highlight html %}

# 创建keytool证书  
$ keytool -genkey -alias 228 -keyalg RSA -keystore "/home/ssokey/228key"

{% endhighlight %}

![创建keytool证书]({{ "/resources/images" | prepend: site.staticurl }}{{ page.url }}-0.png)

{% highlight html %}

# 生成keytool证书  
$ keytool -export -file /home/ssokey/228key.crt -alias 228 -keystore /home/ssokey/228key

{% endhighlight %}

![生成keytool证书]({{ "/resources/images" | prepend: site.staticurl }}{{ page.url }}-0.png)

-----------------------

[JSecurity]: http://www.jsecurity.org/
[JOSSO]: http://www.josso.org/
[CAS]: http://www.jasig.org/
-----------------------